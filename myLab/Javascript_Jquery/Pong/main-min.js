$(document).ready(function(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(v){window.setTimeout(v,1000/60)};var d=$("canvas");var d=document.createElement("canvas");var o=400;var l=600;d.width=o;d.height=l;var b=d.getContext("2d");var j=Math.floor(Math.random()*401);var h=500;var p=new n();var i=new m();var q=new t(j,h);var r=0;var s=0;var k={};$(window).keydown(function(v){k[v.keyCode]=true});$(window).keyup(function(v){delete k[v.keyCode]});function a(w,v){return Math.floor(Math.random()*(v-w+1)+w)}function n(){this.pad=new c(175,10,50,10)}function m(){this.pad=new c(175,580,50,10)}function c(w,A,z,v){this.x=w;this.y=A;this.width=z;this.height=v;this.x_speed=0;this.y_speed=0}function t(v,w){this.x=v;this.y=w;this.x_speed=Math.floor(Math.random()*5)+1;this.y_speed=4;this.radius=5}$(window).ready(function(){$("body").append(d);e(f)});var f=function(){g();u();e(f)};var g=function(){p.update();i.update(q);q.update(p.pad,i.pad);$("#VIE").html("I.A.: "+s);$("#SCORE").html("Player: "+r)};t.prototype.update=function(A,z){this.x-=this.x_speed;this.y-=this.y_speed;var y=this.x-5;var w=this.y-5;var x=this.x+5;var v=this.y+5;if(this.x-5<0){this.x=5;this.x_speed=-this.x_speed}else{if(this.x+5>400){this.x=395;this.x_speed=-this.x_speed}}if(this.y<0){this.x_speed=Math.floor(Math.random()*5)+1;this.y_speed=4;this.x=Math.floor(Math.random()*401);this.y=500;s++}if(this.y>600){this.x_speed=Math.floor(Math.random()*5)+1;this.y_speed=4;this.x=Math.floor(Math.random()*401);this.y=500;r++}if(w>300){if(w<(z.y+z.height)&&v>z.y&&y<(z.x+z.width)&&x>z.x){this.y_speed=+3;this.x_speed-=(A.x_speed/2);this.y-=this.y_speed}}else{if(w<(A.y+A.height)&&v>A.y&&y<(A.x+A.width)&&x>A.x){this.y_speed=-3;this.x_speed-=(z.x_speed/2);this.y-=this.y_speed}}};m.prototype.update=function(x){var v=x.x;var w=-((this.pad.x+(this.pad.width/2))-v);if(w<0&&w<-4){w=-5}else{if(w>0&&w>4){w=5}}this.pad.move(w,0);if(this.pad.x<0){this.pad.x=0}else{if(this.pad.x+this.pad.width>400){this.pad.x=400-this.pad.width}}};n.prototype.update=function(){for(var v in k){var w=Number(v);if(w==37){this.pad.move(-4,0)}else{if(w==39){this.pad.move(4,0)}else{this.pad.move(0,0)}}}};c.prototype.move=function(v,w){this.x+=v;this.y+=w;this.x_speed=v;this.y_speed=w;if(this.x<0){this.x=0;this.x_speed=0}else{if(this.x+this.width>400){this.x=400-this.width;this.x_speed=0}}};var u=function(){b.fillStyle="#000000";b.fillRect(0,0,o,l);p.render();i.render();q.render()};c.prototype.render=function(){b.fillStyle="#FFFFFF";b.fillRect(this.x,this.y,this.width,this.height)};n.prototype.render=function(){this.pad.render()};m.prototype.render=function(){this.pad.render()};t.prototype.render=function(){b.beginPath();b.arc(this.x,this.y,this.radius,2*Math.PI,false);b.fillStyle="#FFFFFF";b.fill()}});
// PONG
// Julian Spiessens 2015
// Made for the T.Num.Av.2 exam at Haute ecole Albert Jacquard
//source: about every javascript pong tutorial i could find and my previous experience in video-game making.